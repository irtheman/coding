<!DOCTYPE html>
<!--
    So Simple Jekyll Theme 3.2.0
    Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
    Free for personal and commercial use under the MIT license
    https://github.com/mmistakes/so-simple-theme/blob/master/LICENSE
-->
<html lang="en-US" class="no-js">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  

  
    
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Data Redaction - Search | Software Design Blog</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Data Redaction - Search" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Searching for private and redacted information in my repositories. Data Redaction Search Script One of the things I like to do when it comes to data redaction for my repositories is to check for any private information. I have this bash script called ‘search.sh’ that will search the whole folder for any private information. The script can do the opposite as well, searching for redacted information. Please take a look at Data Redaction for the ‘private-information.txt’ that will be used here. Sample run of search.sh # Bad run... /scripts/search.sh Usage: /scripts/search.sh [option] &lt;directory&gt; Options: -s | --swap Search for redacted # Search for private information /scripts/search.sh ./ # Search for redacted information /scripts/search.sh -s ./ For this script, since my repositories are always the same layout I define some bash variables that are easy to update. Please excuse the bad naming; they’ve been there for years. # SECRETS is the file containing patterns to search for SECRETS=&quot;/private-information.txt&quot; # EXD is a comma-separated list of directories to exclude EXD=&quot;--exclude-dir={venv,.git,.vscode}&quot; # EXEXT is a comma-separated list of file extensions to exclude EXEXT=&quot;--exclude=*.{svg,webp,png,jpg,pdf,docx,gz,zip,tar}&quot; # TEMPFILE is where to store the altered private information TEMPFILE=&quot;/tmpfs/temp-patterns.txt&quot; Next, the script loads all the lines for the ‘private-information.txt’ file and puts them in the TEMPFILE location. # Read in all the private information and put it all in the lines array mapfile -t lines &lt; $SECRETS # For each line in the lines array we are going to create the actual # file that will be used for searching later. for line in &quot;${lines[@]}&quot;; do # In the example &#39;private-information.txt&#39; each private and redacted # are separated by an equal sign IFS=&#39;=&#39; read -r -a array &lt;&lt;&lt; &quot;$line&quot; # Swap decides if we will use redacted or private if $swap; then echo &quot;${array[1]}&quot; else echo &quot;${array[0]}&quot; fi done &gt; $TEMPFILE SECRETS=&quot;$TEMPFILE&quot; Now, we just run the grep command and see what is in there… # There were problems with string interpolation so the script uses eval on a string # $folder is the script parameter for the folder to search command=&quot;grep $EXD $EXEXT -RiIFn -f $SECRETS $folder&quot; eval $command The end result of running this script is either nothing or the file name, line number, and the text that matches the private or redacted information being searched for. As for replacing private with redacted; see ya in the next post! Post: Replacing Redacted Data Github Search.sh" />
<meta property="og:description" content="Searching for private and redacted information in my repositories. Data Redaction Search Script One of the things I like to do when it comes to data redaction for my repositories is to check for any private information. I have this bash script called ‘search.sh’ that will search the whole folder for any private information. The script can do the opposite as well, searching for redacted information. Please take a look at Data Redaction for the ‘private-information.txt’ that will be used here. Sample run of search.sh # Bad run... /scripts/search.sh Usage: /scripts/search.sh [option] &lt;directory&gt; Options: -s | --swap Search for redacted # Search for private information /scripts/search.sh ./ # Search for redacted information /scripts/search.sh -s ./ For this script, since my repositories are always the same layout I define some bash variables that are easy to update. Please excuse the bad naming; they’ve been there for years. # SECRETS is the file containing patterns to search for SECRETS=&quot;/private-information.txt&quot; # EXD is a comma-separated list of directories to exclude EXD=&quot;--exclude-dir={venv,.git,.vscode}&quot; # EXEXT is a comma-separated list of file extensions to exclude EXEXT=&quot;--exclude=*.{svg,webp,png,jpg,pdf,docx,gz,zip,tar}&quot; # TEMPFILE is where to store the altered private information TEMPFILE=&quot;/tmpfs/temp-patterns.txt&quot; Next, the script loads all the lines for the ‘private-information.txt’ file and puts them in the TEMPFILE location. # Read in all the private information and put it all in the lines array mapfile -t lines &lt; $SECRETS # For each line in the lines array we are going to create the actual # file that will be used for searching later. for line in &quot;${lines[@]}&quot;; do # In the example &#39;private-information.txt&#39; each private and redacted # are separated by an equal sign IFS=&#39;=&#39; read -r -a array &lt;&lt;&lt; &quot;$line&quot; # Swap decides if we will use redacted or private if $swap; then echo &quot;${array[1]}&quot; else echo &quot;${array[0]}&quot; fi done &gt; $TEMPFILE SECRETS=&quot;$TEMPFILE&quot; Now, we just run the grep command and see what is in there… # There were problems with string interpolation so the script uses eval on a string # $folder is the script parameter for the folder to search command=&quot;grep $EXD $EXEXT -RiIFn -f $SECRETS $folder&quot; eval $command The end result of running this script is either nothing or the file name, line number, and the text that matches the private or redacted information being searched for. As for replacing private with redacted; see ya in the next post! Post: Replacing Redacted Data Github Search.sh" />
<link rel="canonical" href="http://localhost:4000/data-redaction-search/" />
<meta property="og:url" content="http://localhost:4000/data-redaction-search/" />
<meta property="og:site_name" content="Software Design Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-08-26T15:02:25-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Data Redaction - Search" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-08-26T15:02:25-04:00","datePublished":"2025-08-26T15:02:25-04:00","description":"Searching for private and redacted information in my repositories. Data Redaction Search Script One of the things I like to do when it comes to data redaction for my repositories is to check for any private information. I have this bash script called ‘search.sh’ that will search the whole folder for any private information. The script can do the opposite as well, searching for redacted information. Please take a look at Data Redaction for the ‘private-information.txt’ that will be used here. Sample run of search.sh # Bad run... /scripts/search.sh Usage: /scripts/search.sh [option] &lt;directory&gt; Options: -s | --swap Search for redacted # Search for private information /scripts/search.sh ./ # Search for redacted information /scripts/search.sh -s ./ For this script, since my repositories are always the same layout I define some bash variables that are easy to update. Please excuse the bad naming; they’ve been there for years. # SECRETS is the file containing patterns to search for SECRETS=&quot;/private-information.txt&quot; # EXD is a comma-separated list of directories to exclude EXD=&quot;--exclude-dir={venv,.git,.vscode}&quot; # EXEXT is a comma-separated list of file extensions to exclude EXEXT=&quot;--exclude=*.{svg,webp,png,jpg,pdf,docx,gz,zip,tar}&quot; # TEMPFILE is where to store the altered private information TEMPFILE=&quot;/tmpfs/temp-patterns.txt&quot; Next, the script loads all the lines for the ‘private-information.txt’ file and puts them in the TEMPFILE location. # Read in all the private information and put it all in the lines array mapfile -t lines &lt; $SECRETS # For each line in the lines array we are going to create the actual # file that will be used for searching later. for line in &quot;${lines[@]}&quot;; do # In the example &#39;private-information.txt&#39; each private and redacted # are separated by an equal sign IFS=&#39;=&#39; read -r -a array &lt;&lt;&lt; &quot;$line&quot; # Swap decides if we will use redacted or private if $swap; then echo &quot;${array[1]}&quot; else echo &quot;${array[0]}&quot; fi done &gt; $TEMPFILE SECRETS=&quot;$TEMPFILE&quot; Now, we just run the grep command and see what is in there… # There were problems with string interpolation so the script uses eval on a string # $folder is the script parameter for the folder to search command=&quot;grep $EXD $EXEXT -RiIFn -f $SECRETS $folder&quot; eval $command The end result of running this script is either nothing or the file name, line number, and the text that matches the private or redacted information being searched for. As for replacing private with redacted; see ya in the next post! Post: Replacing Redacted Data Github Search.sh","headline":"Data Redaction - Search","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/data-redaction-search/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/images/MatthewHanna2.jpg"}},"url":"http://localhost:4000/data-redaction-search/"}</script>
<!-- End Jekyll SEO tag -->


  

  <script>
    /* Cut the mustard */
    if ( 'querySelector' in document && 'addEventListener' in window ) {
      document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + 'js';
    }
  </script>

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="stylesheet" href="/assets/css/skins/default.css">
  <link rel="alternate" type="application/atom+xml" title="Software Design Blog" href="/feed.xml">
<!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">





<!-- end custom head snippets -->

</head>


  <body class="layout--post  data-redaction-search">
    <header>&nbsp;</header>
    
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#primary-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    
  <div class="navigation-wrapper">
    <a href="#menu-toggle" id="menu-toggle">Menu</a>
    <nav id="primary-nav" class="site-nav animated drop">
      <ul><li><a href="/">Home</a></li><li><a href="/posts/">Posts</a></li><li><a href="/categories/">Categories</a></li><li><a href="/tags/">Tags</a></li><li><a href="/search/">Search</a></li><li><a href="https://matthewhanna.net">Resume</a></li><li><a href="https://matthewhanna.com?freelancer">Freelancer</a></li></ul>
    </nav>
  </div><!-- /.navigation-wrapper -->


    <header class="masthead">
  <div class="wrap">
    
      <a href="/" class="site-logo" rel="home" title="Software Design Blog">
        <img src="/images/MatthewHanna2.jpg" class="site-logo-img animated fadeInDown" alt="Software Design Blog">
      </a>
    
    
    
      
        <div class="site-title animated fadeIn"><a href="/">Software Design Blog</a></div>
      
      <p class="site-description animated fadeIn" itemprop="description">Matthew Hanna's software design blog.</p>
    
  </div>
</header><!-- /.masthead -->


    <main id="main" class="main-content" aria-label="Content">
  <article class="h-entry">
    

    <div class="page-wrapper">
      <header class="page-header">
        
        
          <h1 id="page-title" class="page-title p-name">Data Redaction - Search
</h1>
        
      </header>

      <div class="page-sidebar">
        <div class="page-author h-card p-author"><div class="author-info">

<span class="read-time">1 min read</span>

    <time class="page-date dt-published" datetime="2025-08-26T15:02:25-04:00"><a class="u-url" href="">August 26, 2025</a>
</time>

  </div>
</div>

        

        
  <h3 class="page-taxonomies-title">Tags</h3>
  <ul class="page-taxonomies"><li class="page-taxonomy"><a href="/tags/#bash" title="Pages tagged bash" rel="tag">bash</a></li><li class="page-taxonomy"><a href="/tags/#git" title="Pages tagged git" rel="tag">git</a></li>
  </ul>


      </div>

      <div id="post-content" class="page-content">
        <div class="e-content">
          <p>Searching for private and redacted information in my repositories.</p>

<h1 id="data-redaction-search-script">Data Redaction Search Script</h1>

<p>One of the things I like to do when it comes to data redaction for my repositories is to check for any private information. I have this bash script called ‘search.sh’ that will search the whole folder for any private information. The script can do the opposite as well, searching for redacted information.</p>

<p>Please take a look at <a href="https://blog.matthewhanna.net/data-redaction#private-information">Data Redaction</a> for the ‘private-information.txt’ that will be used here.</p>

<p><strong>Sample run of search.sh</strong></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Bad run...</span>
/scripts/search.sh
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Usage: /scripts/search.sh [option] &lt;directory&gt;
Options:
  -s | --swap          Search for redacted
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Search for private information</span>
/scripts/search.sh ./

<span class="c"># Search for redacted information</span>
/scripts/search.sh <span class="nt">-s</span> ./
</code></pre></div></div>

<p>For this script, since my repositories are always the same layout I define some bash variables that are easy to update. Please excuse the bad naming; they’ve been there for years.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># SECRETS is the file containing patterns to search for</span>
<span class="nv">SECRETS</span><span class="o">=</span><span class="s2">"/private-information.txt"</span>
<span class="c"># EXD is a comma-separated list of directories to exclude</span>
<span class="nv">EXD</span><span class="o">=</span><span class="s2">"--exclude-dir={venv,.git,.vscode}"</span>
<span class="c"># EXEXT is a comma-separated list of file extensions to exclude</span>
<span class="nv">EXEXT</span><span class="o">=</span><span class="s2">"--exclude=*.{svg,webp,png,jpg,pdf,docx,gz,zip,tar}"</span>
<span class="c"># TEMPFILE is where to store the altered private information</span>
<span class="nv">TEMPFILE</span><span class="o">=</span><span class="s2">"/tmpfs/temp-patterns.txt"</span>
</code></pre></div></div>

<p>Next, the script loads all the lines for the ‘private-information.txt’ file and puts them in the TEMPFILE location.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Read in all the private information and put it all in the lines array</span>
<span class="nb">mapfile</span> <span class="nt">-t</span> lines &lt; <span class="nv">$SECRETS</span>

<span class="c"># For each line in the lines array we are going to create the actual</span>
<span class="c"># file that will be used for searching later.</span>
<span class="k">for </span>line <span class="k">in</span> <span class="s2">"</span><span class="k">${</span><span class="nv">lines</span><span class="p">[@]</span><span class="k">}</span><span class="s2">"</span><span class="p">;</span> <span class="k">do</span>
  <span class="c"># In the example 'private-information.txt' each private and redacted</span>
  <span class="c"># are separated by an equal sign</span>
  <span class="nv">IFS</span><span class="o">=</span><span class="s1">'='</span> <span class="nb">read</span> <span class="nt">-r</span> <span class="nt">-a</span> array <span class="o">&lt;&lt;&lt;</span> <span class="s2">"</span><span class="nv">$line</span><span class="s2">"</span>

  <span class="c"># Swap decides if we will use redacted or private</span>
  <span class="k">if</span> <span class="nv">$swap</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">array</span><span class="p">[1]</span><span class="k">}</span><span class="s2">"</span>
  <span class="k">else
    </span><span class="nb">echo</span> <span class="s2">"</span><span class="k">${</span><span class="nv">array</span><span class="p">[0]</span><span class="k">}</span><span class="s2">"</span>
  <span class="k">fi
done</span> <span class="o">&gt;</span> <span class="nv">$TEMPFILE</span>
<span class="nv">SECRETS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$TEMPFILE</span><span class="s2">"</span>
</code></pre></div></div>

<p>Now, we just run the grep command and see what is in there…</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># There were problems with string interpolation so the script uses eval on a string</span>
<span class="c"># $folder is the script parameter for the folder to search</span>
<span class="nb">command</span><span class="o">=</span><span class="s2">"grep </span><span class="nv">$EXD</span><span class="s2"> </span><span class="nv">$EXEXT</span><span class="s2"> -RiIFn -f </span><span class="nv">$SECRETS</span><span class="s2"> </span><span class="nv">$folder</span><span class="s2">"</span>
<span class="nb">eval</span> <span class="nv">$command</span>
</code></pre></div></div>

<p>The end result of running this script is either nothing or the file name, line number, and the text that matches the private or redacted information being searched for. As for replacing private with redacted; see ya in the next post!</p>

<p>Post: <a href="https://blog.matthewhanna.net/data-redaction-replace">Replacing Redacted Data</a></p>

<p><a href="https://github.com/irtheman/coding/blob/6a326433b32770e2c749eabeaf5f460cb7ccc47b/bash/search.sh">Github Search.sh</a></p>

        </div>

        
          <div class="page-share">
  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fdata-redaction-search%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--facebook btn--small"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i> <span>Share</span></a>
  <a href="https://twitter.com/intent/tweet?text=Data+Redaction+-+Search%20http%3A%2F%2Flocalhost%3A4000%2Fdata-redaction-search%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--twitter btn--small"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i> <span>Tweet</span></a>
  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fdata-redaction-search%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--linkedin btn--small"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> <span>LinkedIn</span></a>
  <a href="https://reddit.com/submit?title=Data+Redaction+-+Search&url=http%3A%2F%2Flocalhost%3A4000%2Fdata-redaction-search%2F" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" class="btn btn--reddit btn--small"><i class="fab fa-fw fa-reddit" aria-hidden="true"></i> <span>Reddit</span></a>
</div>

        

        
          

        

        <nav class="page-pagination" role="navigation">
  
    <a class="page-previous" href="/data-redaction/">
      <h4 class="page-pagination-label">Previous</h4>
      <span class="page-pagination-title">
        <i class="fas fa-arrow-left"></i> Data Redaction

      </span>
    </a>
  

  
    <a class="page-next" href="/data-redaction-replace/">
      <h4 class="page-pagination-label">Next</h4>
      <span class="page-pagination-title">
        Data Redaction - Replace
 <i class="fas fa-arrow-right"></i>
      </span>
    </a>
  
</nav>

      </div>
    </div>
  </article>
</main>


    <footer id="footer" class="site-footer">
  <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
<div class="social-icons"><a class="social-icon" href="https://github.com/irtheman"><i class="fab fa-github-square fa-2x" title="GitHub"></i></a><a class="social-icon" href="/feed.xml"><i class="fas fa-rss-square fa-2x" title="Feed"></i></a></div><div class="copyright">
    
      <p>&copy; 2025 Software Design Blog. Powered by Matthew Hanna.</p>
    
  </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="/assets/js/main.min.js"></script>
  <script src="/assets/js/banner.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>


  </body>

</html>
